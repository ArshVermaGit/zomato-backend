import { PrismaService } from '../../database/prisma.service';
import { OrderStatus, UserRole } from '@prisma/client';
export declare class OrderStateService {
    private prisma;
    constructor(prisma: PrismaService);
    transition(orderId: string, toStatus: OrderStatus, userId: string, role: UserRole, reason?: string, deliveryPartnerId?: string): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        rating: number | null;
        orderNumber: string;
        status: import(".prisma/client").$Enums.OrderStatus;
        deliveryAddress: import("@prisma/client/runtime/library").JsonValue;
        customerInstructions: string | null;
        itemsTotal: import("@prisma/client/runtime/library").Decimal;
        deliveryFee: import("@prisma/client/runtime/library").Decimal;
        taxes: import("@prisma/client/runtime/library").Decimal;
        platformFee: import("@prisma/client/runtime/library").Decimal;
        discount: import("@prisma/client/runtime/library").Decimal;
        tip: import("@prisma/client/runtime/library").Decimal;
        totalAmount: import("@prisma/client/runtime/library").Decimal;
        paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
        paymentStatus: import(".prisma/client").$Enums.PaymentStatus;
        paymentTransactionId: string | null;
        placedAt: Date;
        acceptedAt: Date | null;
        preparingAt: Date | null;
        readyAt: Date | null;
        pickedUpAt: Date | null;
        deliveredAt: Date | null;
        cancelledAt: Date | null;
        pickupOTP: string | null;
        deliveryOTP: string | null;
        estimatedDeliveryTime: number | null;
        actualDeliveryTime: number | null;
        promoCode: string | null;
        restaurantId: string;
        deliveryPartnerId: string | null;
        customerId: string;
    }>;
    assignPartner(orderId: string, deliveryPartnerId: string): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        rating: number | null;
        orderNumber: string;
        status: import(".prisma/client").$Enums.OrderStatus;
        deliveryAddress: import("@prisma/client/runtime/library").JsonValue;
        customerInstructions: string | null;
        itemsTotal: import("@prisma/client/runtime/library").Decimal;
        deliveryFee: import("@prisma/client/runtime/library").Decimal;
        taxes: import("@prisma/client/runtime/library").Decimal;
        platformFee: import("@prisma/client/runtime/library").Decimal;
        discount: import("@prisma/client/runtime/library").Decimal;
        tip: import("@prisma/client/runtime/library").Decimal;
        totalAmount: import("@prisma/client/runtime/library").Decimal;
        paymentMethod: import(".prisma/client").$Enums.PaymentMethod;
        paymentStatus: import(".prisma/client").$Enums.PaymentStatus;
        paymentTransactionId: string | null;
        placedAt: Date;
        acceptedAt: Date | null;
        preparingAt: Date | null;
        readyAt: Date | null;
        pickedUpAt: Date | null;
        deliveredAt: Date | null;
        cancelledAt: Date | null;
        pickupOTP: string | null;
        deliveryOTP: string | null;
        estimatedDeliveryTime: number | null;
        actualDeliveryTime: number | null;
        promoCode: string | null;
        restaurantId: string;
        deliveryPartnerId: string | null;
        customerId: string;
    }>;
    private authorizeTransition;
    private validateTransition;
}
