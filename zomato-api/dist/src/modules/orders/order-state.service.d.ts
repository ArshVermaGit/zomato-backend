import { PrismaService } from '../../database/prisma.service';
import { OrderStatus, UserRole } from '@prisma/client';
export declare class OrderStateService {
    private prisma;
    constructor(prisma: PrismaService);
    transition(orderId: string, toStatus: OrderStatus, userId: string, role: UserRole, reason?: string, deliveryPartnerId?: string): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        rating: number | null;
        orderNumber: string;
        status: import("@prisma/client").$Enums.OrderStatus;
        deliveryAddress: import("@prisma/client/runtime/client").JsonValue;
        customerInstructions: string | null;
        itemsTotal: import("@prisma/client-runtime-utils").Decimal;
        deliveryFee: import("@prisma/client-runtime-utils").Decimal | null;
        platformFee: import("@prisma/client-runtime-utils").Decimal | null;
        taxes: import("@prisma/client-runtime-utils").Decimal | null;
        discount: import("@prisma/client-runtime-utils").Decimal;
        tip: import("@prisma/client-runtime-utils").Decimal | null;
        totalAmount: import("@prisma/client-runtime-utils").Decimal;
        paymentMethod: import("@prisma/client").$Enums.PaymentMethod;
        paymentStatus: import("@prisma/client").$Enums.PaymentStatus;
        placedAt: Date;
        acceptedAt: Date | null;
        preparingAt: Date | null;
        readyAt: Date | null;
        pickedUpAt: Date | null;
        deliveredAt: Date | null;
        cancelledAt: Date | null;
        pickupOtp: string | null;
        deliveryOtp: string | null;
        proofOfDelivery: string | null;
        cancellationReason: string | null;
        assignmentAttempts: number;
        restaurantId: string;
        deliveryPartnerId: string | null;
        customerId: string;
    }>;
    assignPartner(orderId: string, deliveryPartnerId: string): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        rating: number | null;
        orderNumber: string;
        status: import("@prisma/client").$Enums.OrderStatus;
        deliveryAddress: import("@prisma/client/runtime/client").JsonValue;
        customerInstructions: string | null;
        itemsTotal: import("@prisma/client-runtime-utils").Decimal;
        deliveryFee: import("@prisma/client-runtime-utils").Decimal | null;
        platformFee: import("@prisma/client-runtime-utils").Decimal | null;
        taxes: import("@prisma/client-runtime-utils").Decimal | null;
        discount: import("@prisma/client-runtime-utils").Decimal;
        tip: import("@prisma/client-runtime-utils").Decimal | null;
        totalAmount: import("@prisma/client-runtime-utils").Decimal;
        paymentMethod: import("@prisma/client").$Enums.PaymentMethod;
        paymentStatus: import("@prisma/client").$Enums.PaymentStatus;
        placedAt: Date;
        acceptedAt: Date | null;
        preparingAt: Date | null;
        readyAt: Date | null;
        pickedUpAt: Date | null;
        deliveredAt: Date | null;
        cancelledAt: Date | null;
        pickupOtp: string | null;
        deliveryOtp: string | null;
        proofOfDelivery: string | null;
        cancellationReason: string | null;
        assignmentAttempts: number;
        restaurantId: string;
        deliveryPartnerId: string | null;
        customerId: string;
    }>;
    private authorizeTransition;
    private validateTransition;
}
